应用水平扩展的一种尝试

最近尝试应用服务的水平扩展，想自动发现实例并动态更新nginx stream以达到完全自动的应用水平扩展。新实例的上下线都是热插拔的。哪天发现服务器性能不够了，
只需要简单的再启动一个应用实例即可，等扛过了流量高峰再关闭一些实例即可。这期间不需要任何其他的设置。  

要实现这样的水平扩展需要最少达到以下两点要求：  
1. 应用无状态(session)或者状态外置
2. 实例自动发现
